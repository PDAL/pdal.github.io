
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>1   Draft PDAL JSON Pipeline Specification &mdash; pdal.io</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/breathe.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootswatch-3.3.4/cerulean/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.4/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="copyright" title="Copyright" href="copyright.html" />
    <link rel="top" title="pdal.io" href="index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          PDAL</a>
        <span class="navbar-text navbar-version pull-left"><b>1.2.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="download.html">Download</a></li>
                <li><a href="https://github.com/PDAL/PDAL">GitHub</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Docs <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="download.html">Download</a><ul>
<li class="toctree-l2"><a class="reference internal" href="download.html#current-release-s">Current Release(s)</a></li>
<li class="toctree-l2"><a class="reference internal" href="download.html#past-releases">Past Releases</a></li>
<li class="toctree-l2"><a class="reference internal" href="download.html#binaries">Binaries</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="compilation/index.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="compilation/unix.html">Unix Compilation</a></li>
<li class="toctree-l2"><a class="reference internal" href="compilation/windows.html">Building Under Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="compilation/dependencies.html">Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="compilation/python.html">Python installation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="apps.html">Applications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="apps.html#delta-command">delta command</a></li>
<li class="toctree-l2"><a class="reference internal" href="apps.html#density-command">density command</a></li>
<li class="toctree-l2"><a class="reference internal" href="apps.html#diff-command">diff command</a></li>
<li class="toctree-l2"><a class="reference internal" href="apps.html#ground-command">ground command</a></li>
<li class="toctree-l2"><a class="reference internal" href="apps.html#info-command">info command</a></li>
<li class="toctree-l2"><a class="reference internal" href="apps.html#merge-command">merge command</a></li>
<li class="toctree-l2"><a class="reference internal" href="apps.html#pcl-command">pcl command</a></li>
<li class="toctree-l2"><a class="reference internal" href="apps.html#pipeline-command">pipeline command</a></li>
<li class="toctree-l2"><a class="reference internal" href="apps.html#random-command">random command</a></li>
<li class="toctree-l2"><a class="reference internal" href="apps.html#split-command">split command</a></li>
<li class="toctree-l2"><a class="reference internal" href="apps.html#tindex-command">tindex command</a></li>
<li class="toctree-l2"><a class="reference internal" href="apps.html#translate-command">translate command</a></li>
<li class="toctree-l2"><a class="reference internal" href="apps.html#view-command">view command</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="community.html">Community</a><ul>
<li class="toctree-l2"><a class="reference internal" href="community.html#mailing-list">Mailing List</a></li>
<li class="toctree-l2"><a class="reference internal" href="community.html#github">GitHub</a></li>
<li class="toctree-l2"><a class="reference internal" href="community.html#irc">IRC</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="stages/index.html">Readers, Writers, and Filters</a><ul>
<li class="toctree-l2"><a class="reference internal" href="stages/index.html#readers">Readers</a></li>
<li class="toctree-l2"><a class="reference internal" href="stages/index.html#writers">Writers</a></li>
<li class="toctree-l2"><a class="reference internal" href="stages/index.html#filters">Filters</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorial/index.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorial/index.html#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/index.html#using-pdal">Using PDAL</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/index.html#developing">Developing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorial/docker.html">Docker</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorial/docker.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/docker.html#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/docker.html#what-you-get">What you get</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pipeline.html">Pipeline</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pipeline.html#composing-pipelines">Composing pipelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="pipeline.html#usage">Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="pipeline.html#options">Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="pipeline.html#syntax-specification">Syntax Specification</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="development/index.html">Development</a><ul>
<li class="toctree-l2"><a class="reference internal" href="development/index.html#build-and-test-status">Build and Test Status</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api/index.html">API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api/cpp/index.html">C++ API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="metadata.html">Metadata</a><ul>
<li class="toctree-l2"><a class="reference internal" href="metadata.html#metadata-types">Metadata Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="metadata.html#json-representation">JSON representation</a></li>
<li class="toctree-l2"><a class="reference internal" href="metadata.html#pipeline-xml-representation"><code class="docutils literal"><span class="pre">Pipeline</span></code> XML representation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributors.html">Contributors</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contributors.html#engineering-contributors">Engineering Contributors</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributors.html#funding-contributors">Funding Contributors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="copyright.html">License</a><ul>
<li class="toctree-l2"><a class="reference internal" href="copyright.html#overall-pdal-license-bsd">Overall PDAL license (BSD)</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Here <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">1&nbsp;&nbsp;&nbsp;Draft PDAL JSON Pipeline Specification</a></li>
<li><a class="reference internal" href="#introduction">2&nbsp;&nbsp;&nbsp;Introduction</a><ul>
<li><a class="reference internal" href="#examples">2.1&nbsp;&nbsp;&nbsp;Examples</a></li>
<li><a class="reference internal" href="#definitions">2.2&nbsp;&nbsp;&nbsp;Definitions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pdal-pipeline-objects">3&nbsp;&nbsp;&nbsp;PDAL Pipeline Objects</a><ul>
<li><a class="reference internal" href="#pipeline-array">3.1&nbsp;&nbsp;&nbsp;Pipeline Array</a></li>
<li><a class="reference internal" href="#stage-objects">3.2&nbsp;&nbsp;&nbsp;Stage Objects</a></li>
<li><a class="reference internal" href="#filename-globbing">3.3&nbsp;&nbsp;&nbsp;Filename Globbing</a></li>
</ul>
</li>
<li><a class="reference internal" href="#extended-examples">4&nbsp;&nbsp;&nbsp;Extended Examples</a><ul>
<li><a class="reference internal" href="#bpf-to-las">4.1&nbsp;&nbsp;&nbsp;BPF to LAS</a></li>
<li><a class="reference internal" href="#python-hag">4.2&nbsp;&nbsp;&nbsp;Python HAG</a></li>
<li><a class="reference internal" href="#dtm">4.3&nbsp;&nbsp;&nbsp;DTM</a></li>
<li><a class="reference internal" href="#decimate-colorize">4.4&nbsp;&nbsp;&nbsp;Decimate &amp; Colorize</a></li>
<li><a class="reference internal" href="#merge-reproject">4.5&nbsp;&nbsp;&nbsp;Merge &amp; Reproject</a></li>
<li><a class="reference internal" href="#globbed-inputs">4.6&nbsp;&nbsp;&nbsp;Globbed Inputs</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="draft-pdal-json-pipeline-specification">
<span id="json-pipeline-specification"></span><h1>1&nbsp;&nbsp;&nbsp;Draft PDAL JSON Pipeline Specification<a class="headerlink" href="#draft-pdal-json-pipeline-specification" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Authors:</th><td class="field-body">Bradley J. Chambers,
Connor Manning,
Andrew Bell,
Howard Butler</td>
</tr>
<tr class="field-even field"><th class="field-name">Revision:</th><td class="field-body">0.1</td>
</tr>
<tr class="field-odd field"><th class="field-name">Date:</th><td class="field-body">22 December 2015</td>
</tr>
</tbody>
</table>
<p>The PDAL JSON specification is a point cloud processing pipeline interchange
format based on JavaScript Object Notation (JSON).</p>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="auto-toc simple">
<li><a class="reference internal" href="#draft-pdal-json-pipeline-specification" id="id2">1&nbsp;&nbsp;&nbsp;Draft PDAL JSON Pipeline Specification</a></li>
<li><a class="reference internal" href="#introduction" id="id3">2&nbsp;&nbsp;&nbsp;Introduction</a><ul class="auto-toc">
<li><a class="reference internal" href="#examples" id="id4">2.1&nbsp;&nbsp;&nbsp;Examples</a></li>
<li><a class="reference internal" href="#definitions" id="id5">2.2&nbsp;&nbsp;&nbsp;Definitions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pdal-pipeline-objects" id="id6">3&nbsp;&nbsp;&nbsp;PDAL Pipeline Objects</a><ul class="auto-toc">
<li><a class="reference internal" href="#pipeline-array" id="id7">3.1&nbsp;&nbsp;&nbsp;Pipeline Array</a></li>
<li><a class="reference internal" href="#stage-objects" id="id8">3.2&nbsp;&nbsp;&nbsp;Stage Objects</a></li>
<li><a class="reference internal" href="#filename-globbing" id="id9">3.3&nbsp;&nbsp;&nbsp;Filename Globbing</a></li>
</ul>
</li>
<li><a class="reference internal" href="#extended-examples" id="id10">4&nbsp;&nbsp;&nbsp;Extended Examples</a><ul class="auto-toc">
<li><a class="reference internal" href="#bpf-to-las" id="id11">4.1&nbsp;&nbsp;&nbsp;BPF to LAS</a></li>
<li><a class="reference internal" href="#python-hag" id="id12">4.2&nbsp;&nbsp;&nbsp;Python HAG</a></li>
<li><a class="reference internal" href="#dtm" id="id13">4.3&nbsp;&nbsp;&nbsp;DTM</a></li>
<li><a class="reference internal" href="#decimate-colorize" id="id14">4.4&nbsp;&nbsp;&nbsp;Decimate &amp; Colorize</a></li>
<li><a class="reference internal" href="#merge-reproject" id="id15">4.5&nbsp;&nbsp;&nbsp;Merge &amp; Reproject</a></li>
<li><a class="reference internal" href="#globbed-inputs" id="id16">4.6&nbsp;&nbsp;&nbsp;Globbed Inputs</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="introduction">
<h1>2&nbsp;&nbsp;&nbsp;Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<p>A PDAL JSON object represents a processing pipeline.</p>
<p>A complete PDAL JSON data structure is always an object (in JSON terms). In PDAL
JSON, an object consists of a collection of name/value pairs &#8211; also called
members. For each member, the name is always a string. Member values are either
a string, number, object, array or one of the literals: &#8220;true&#8221;, &#8220;false&#8221;, and
&#8220;null&#8221;. An array consists of elements where each element is a value as
described above.</p>
<div class="section" id="examples">
<h2>2.1&nbsp;&nbsp;&nbsp;Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>A simple PDAL pipeline, inferring the appropriate drivers for the reader and
writer from filenames, and able to be specified as a set of sequential steps:</p>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span>
    <span class="nt">&quot;pipeline&quot;</span><span class="p">:[</span>
        <span class="s2">&quot;input.las&quot;</span><span class="p">,</span>
        <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;crop&quot;</span><span class="p">,</span>
            <span class="nt">&quot;bounds&quot;</span><span class="p">:</span><span class="s2">&quot;([0,100],[0,100])&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;output.bpf&quot;</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>A more complex PDAL pipeline, that reprojects the stage tagged <code class="docutils literal"><span class="pre">A1</span></code>, merges
the result with <code class="docutils literal"><span class="pre">B</span></code>, and writes the merged output with the <code class="docutils literal"><span class="pre">points2grid</span></code>
plugin.:</p>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span>
    <span class="nt">&quot;pipeline&quot;</span><span class="p">:[</span>
        <span class="p">{</span>
            <span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="s2">&quot;A.las&quot;</span><span class="p">,</span>
            <span class="nt">&quot;spatialreference&quot;</span><span class="p">:</span><span class="s2">&quot;EPSG:26916&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;filters.reprojection&quot;</span><span class="p">,</span>
            <span class="nt">&quot;in_srs&quot;</span><span class="p">:</span><span class="s2">&quot;EPSG:26916&quot;</span><span class="p">,</span>
            <span class="nt">&quot;out_srs&quot;</span><span class="p">:</span><span class="s2">&quot;EPSG:4326&quot;</span><span class="p">,</span>
            <span class="nt">&quot;tag&quot;</span><span class="p">:</span><span class="s2">&quot;A2&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="s2">&quot;B.las&quot;</span><span class="p">,</span>
            <span class="nt">&quot;tag&quot;</span><span class="p">:</span><span class="s2">&quot;B&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;filters.merge&quot;</span><span class="p">,</span>
            <span class="nt">&quot;tag&quot;</span><span class="p">:</span><span class="s2">&quot;merged&quot;</span><span class="p">,</span>
            <span class="nt">&quot;inputs&quot;</span><span class="p">:[</span>
                <span class="s2">&quot;A2&quot;</span><span class="p">,</span>
                <span class="s2">&quot;B&quot;</span>
            <span class="p">]</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;writers.p2g&quot;</span><span class="p">,</span>
            <span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="s2">&quot;output.tif&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="definitions">
<h2>2.2&nbsp;&nbsp;&nbsp;Definitions<a class="headerlink" href="#definitions" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>JavaScript Object Notation (JSON), and the terms object, name, value, array,
and number, are defined in IETF RTC 4627, at
<a class="reference external" href="http://www.ietf.org/rfc/rfc4627.txt">http://www.ietf.org/rfc/rfc4627.txt</a>.</li>
<li>The key words &#8220;MUST&#8221;, &#8220;MUST NOT&#8221;, &#8220;REQUIRED&#8221;, &#8220;SHALL&#8221;, &#8220;SHALL NOT&#8221;, &#8220;SHOULD&#8221;,
&#8220;SHOULD NOT&#8221;, &#8220;RECOMMENDED&#8221;, &#8220;MAY&#8221;, and &#8220;OPTIONAL&#8221; in this documention are to
be interpreted as described in IETF RFC 2119, at
<a class="reference external" href="http://www.ietf.org/rfc/rfc2119.txt">http://www.ietf.org/rfc/rfc2119.txt</a>.</li>
</ul>
</div>
</div>
<div class="section" id="pdal-pipeline-objects">
<h1>3&nbsp;&nbsp;&nbsp;PDAL Pipeline Objects<a class="headerlink" href="#pdal-pipeline-objects" title="Permalink to this headline">¶</a></h1>
<p>PDAL JSON pipelines always consist of a single object. This object (referred to
as the PDAL JSON object below) represents a processing pipeline.</p>
<ul class="simple">
<li>The PDAL JSON object may have any number of members (name/value pairs).</li>
<li>The PDAL JSON object must have a <a class="reference internal" href="#pipeline-array"><span>3.1&nbsp;&nbsp;&nbsp;Pipeline Array</span></a>.</li>
</ul>
<div class="section" id="pipeline-array">
<span id="id1"></span><h2>3.1&nbsp;&nbsp;&nbsp;Pipeline Array<a class="headerlink" href="#pipeline-array" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>The pipeline array may have any number of string or <a class="reference internal" href="#stage-object"><span>3.2&nbsp;&nbsp;&nbsp;Stage Objects</span></a>
elements.</li>
<li>String elements shall be interpreted as filenames. PDAL will attempt to infer
the proper driver from the file extension and position in the array. A writer
stage will only be created if the string is the final element in the array.</li>
</ul>
</div>
<div class="section" id="stage-objects">
<span id="stage-object"></span><h2>3.2&nbsp;&nbsp;&nbsp;Stage Objects<a class="headerlink" href="#stage-objects" title="Permalink to this headline">¶</a></h2>
<p>For more on PDAL stages and their options, check the PDAL documentation on
<a class="reference external" href="http://www.pdal.io/stages/index.html">Readers, Writers, and Filters</a>.</p>
<ul class="simple">
<li>A stage object may have a member with the name <code class="docutils literal"><span class="pre">tag</span></code> whose value is a
string. The purpose of the tag is to cross-reference this stage within other
stages. Each <code class="docutils literal"><span class="pre">tag</span></code> must be unique.</li>
<li>A stage object may have a member with the name <code class="docutils literal"><span class="pre">inputs</span></code> whose value is an
array of strings. Each element in the array is the tag of another stage to be
set as input to the current stage.</li>
<li>Reader stages will disregard the <code class="docutils literal"><span class="pre">inputs</span></code> member.</li>
<li>If <code class="docutils literal"><span class="pre">inputs</span></code> is not specified for the first non-reader stage, all reader
stages leading up to the current stage will be used as inputs.</li>
<li>If <code class="docutils literal"><span class="pre">inputs</span></code> is not specified for any subsequent non-reader stages, the
previous stage in the array will be used as input.</li>
<li>A <code class="docutils literal"><span class="pre">tag</span></code> mentioned in another stage&#8217;s <code class="docutils literal"><span class="pre">inputs</span></code>  must have been previously
defined in the <code class="docutils literal"><span class="pre">pipeline</span></code> array.</li>
<li>A reader or writer stage object may have a member with the name <code class="docutils literal"><span class="pre">type</span></code> whose
value is a string. The <code class="docutils literal"><span class="pre">type</span></code> must specify a valid PDAL reader or writer
name.</li>
<li>A filter stage object must have a member with the name <code class="docutils literal"><span class="pre">type</span></code> whose value is
a string. The <code class="docutils literal"><span class="pre">type</span></code> must specify a valid PDAL filter name.</li>
<li>A stage object may have additional members with names corresponding to
stage-specific option names and their respective values.</li>
</ul>
</div>
<div class="section" id="filename-globbing">
<h2>3.3&nbsp;&nbsp;&nbsp;Filename Globbing<a class="headerlink" href="#filename-globbing" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>A filename may contain the wildcard character <code class="docutils literal"><span class="pre">*</span></code> to match any string of
characters. This can be useful if working with multiple input files in a
directory (e.g., merging all files).</li>
</ul>
</div>
</div>
<div class="section" id="extended-examples">
<h1>4&nbsp;&nbsp;&nbsp;Extended Examples<a class="headerlink" href="#extended-examples" title="Permalink to this headline">¶</a></h1>
<div class="section" id="bpf-to-las">
<h2>4.1&nbsp;&nbsp;&nbsp;BPF to LAS<a class="headerlink" href="#bpf-to-las" title="Permalink to this headline">¶</a></h2>
<p>The following pipeline converts the input file from BPF to LAS, inferring both
the reader and writer type, and setting a number of options on the writer stage.</p>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span>
    <span class="nt">&quot;pipeline&quot;</span><span class="p">:[</span>
        <span class="s2">&quot;utm15.bpf&quot;</span><span class="p">,</span>
        <span class="p">{</span>
            <span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="s2">&quot;out2.las&quot;</span><span class="p">,</span>
            <span class="nt">&quot;scale_x&quot;</span><span class="p">:</span><span class="mf">0.01</span><span class="p">,</span>
            <span class="nt">&quot;offset_x&quot;</span><span class="p">:</span><span class="mf">311898.23</span><span class="p">,</span>
            <span class="nt">&quot;scale_y&quot;</span><span class="p">:</span><span class="mf">0.01</span><span class="p">,</span>
            <span class="nt">&quot;offset_y&quot;</span><span class="p">:</span><span class="mf">4703909.84</span><span class="p">,</span>
            <span class="nt">&quot;scale_z&quot;</span><span class="p">:</span><span class="mf">0.01</span><span class="p">,</span>
            <span class="nt">&quot;offset_z&quot;</span><span class="p">:</span><span class="mf">7.385474</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="python-hag">
<h2>4.2&nbsp;&nbsp;&nbsp;Python HAG<a class="headerlink" href="#python-hag" title="Permalink to this headline">¶</a></h2>
<p>In our next example, the reader and writer types are once again inferred. After
reading the input file, the ferry filter is used to copy the Z dimension into a
new height above ground (HAG) dimension. Next, the programmable filter is used
with a python script to compute height above ground values by comparing the Z
values to a surface model. These height above ground values are then written
back into the Z dimension for further analysis.</p>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span>
    <span class="nt">&quot;pipeline&quot;</span><span class="p">:[</span>
        <span class="s2">&quot;autzen.las&quot;</span><span class="p">,</span>
        <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;ferry&quot;</span><span class="p">,</span>
            <span class="nt">&quot;dimensions&quot;</span><span class="p">:</span><span class="s2">&quot;Z=HAG&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;programmable&quot;</span><span class="p">,</span>
            <span class="nt">&quot;script&quot;</span><span class="p">:</span><span class="s2">&quot;hag.py&quot;</span><span class="p">,</span>
            <span class="nt">&quot;function&quot;</span><span class="p">:</span><span class="s2">&quot;filter&quot;</span><span class="p">,</span>
            <span class="nt">&quot;module&quot;</span><span class="p">:</span><span class="s2">&quot;anything&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;autzen-hag.las&quot;</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="dtm">
<h2>4.3&nbsp;&nbsp;&nbsp;DTM<a class="headerlink" href="#dtm" title="Permalink to this headline">¶</a></h2>
<p>A common task is to create a digital terrain model (DTM) from the input point
cloud. This pipeline infers the reader type, applies an approximate ground
segmentation filter, and then creates the DTM using the Points2Grid writer with
only the ground returns.</p>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span>
    <span class="nt">&quot;pipeline&quot;</span><span class="p">:[</span>
        <span class="s2">&quot;autzen-full.las&quot;</span><span class="p">,</span>
        <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;ground&quot;</span><span class="p">,</span>
            <span class="nt">&quot;approximate&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
            <span class="nt">&quot;max_window_size&quot;</span><span class="p">:</span><span class="mi">33</span><span class="p">,</span>
            <span class="nt">&quot;slope&quot;</span><span class="p">:</span><span class="mf">1.0</span><span class="p">,</span>
            <span class="nt">&quot;max_distance&quot;</span><span class="p">:</span><span class="mf">2.5</span><span class="p">,</span>
            <span class="nt">&quot;initial_distance&quot;</span><span class="p">:</span><span class="mf">0.15</span><span class="p">,</span>
            <span class="nt">&quot;cell_size&quot;</span><span class="p">:</span><span class="mf">1.0</span><span class="p">,</span>
            <span class="nt">&quot;extract&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
            <span class="nt">&quot;classify&quot;</span><span class="p">:</span><span class="kc">false</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;p2g&quot;</span><span class="p">,</span>
            <span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="s2">&quot;autzen-surface.tif&quot;</span><span class="p">,</span>
            <span class="nt">&quot;output_type&quot;</span><span class="p">:</span><span class="s2">&quot;min&quot;</span><span class="p">,</span>
            <span class="nt">&quot;output_format&quot;</span><span class="p">:</span><span class="s2">&quot;tif&quot;</span><span class="p">,</span>
            <span class="nt">&quot;grid_dist_x&quot;</span><span class="p">:</span><span class="mf">1.0</span><span class="p">,</span>
            <span class="nt">&quot;grid_dist_y&quot;</span><span class="p">:</span><span class="mf">1.0</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="decimate-colorize">
<h2>4.4&nbsp;&nbsp;&nbsp;Decimate &amp; Colorize<a class="headerlink" href="#decimate-colorize" title="Permalink to this headline">¶</a></h2>
<p>This example still infers the reader and writer types while applying options on
both. The pipeline decimates the input LAS file by keeping every other point,
and then colorizes the points using the provided raster image. The output is
written as ASCII text.</p>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span>
    <span class="nt">&quot;pipeline&quot;</span><span class="p">:[</span>
        <span class="p">{</span>
            <span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="s2">&quot;1.2-with-color.las&quot;</span><span class="p">,</span>
            <span class="nt">&quot;spatialreference&quot;</span><span class="p">:</span><span class="s2">&quot;EPSG:2993&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;decimation&quot;</span><span class="p">,</span>
            <span class="nt">&quot;step&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
            <span class="nt">&quot;offset&quot;</span><span class="p">:</span><span class="mi">1</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;colorization&quot;</span><span class="p">,</span>
            <span class="nt">&quot;raster&quot;</span><span class="p">:</span><span class="s2">&quot;autzen.tif&quot;</span><span class="p">,</span>
            <span class="nt">&quot;dimensions&quot;</span><span class="p">:</span><span class="s2">&quot;Red:1:1, Green:2:1, Blue:3:1&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="s2">&quot;junk.txt&quot;</span><span class="p">,</span>
            <span class="nt">&quot;delimiter&quot;</span><span class="p">:</span><span class="s2">&quot;,&quot;</span><span class="p">,</span>
            <span class="nt">&quot;write_header&quot;</span><span class="p">:</span><span class="kc">false</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="merge-reproject">
<h2>4.5&nbsp;&nbsp;&nbsp;Merge &amp; Reproject<a class="headerlink" href="#merge-reproject" title="Permalink to this headline">¶</a></h2>
<p>Our first example with multiple readers, this pipeline infers the reader types,
and assigns spatial reference information to each. Next, the merge filter merges
points from all previous readers, and the reprojection filter reprojects data to
the specified output spatial reference system.</p>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span>
    <span class="nt">&quot;pipeline&quot;</span><span class="p">:[</span>
        <span class="p">{</span>
            <span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="s2">&quot;1.2-with-color.las&quot;</span><span class="p">,</span>
            <span class="nt">&quot;spatialreference&quot;</span><span class="p">:</span><span class="s2">&quot;EPSG:2027&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="s2">&quot;1.2-with-color.las&quot;</span><span class="p">,</span>
            <span class="nt">&quot;spatialreference&quot;</span><span class="p">:</span><span class="s2">&quot;EPSG:2027&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;merge&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;reprojection&quot;</span><span class="p">,</span>
            <span class="nt">&quot;out_srs&quot;</span><span class="p">:</span><span class="s2">&quot;EPSG:2028&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="globbed-inputs">
<h2>4.6&nbsp;&nbsp;&nbsp;Globbed Inputs<a class="headerlink" href="#globbed-inputs" title="Permalink to this headline">¶</a></h2>
<p>Finally, we capture another merge pipeline demonstrating the ability to glob
multiple input LAS files from a given directory.</p>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span>
    <span class="nt">&quot;pipeline&quot;</span><span class="p">:[</span>
        <span class="s2">&quot;/path/to/data/*.las&quot;</span><span class="p">,</span>
        <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;merge&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;output.las&quot;</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
    <div class="footer">
        <div class="container">
                    &copy;  2016
                        <a href="http://github.com/hobu">Howard Butler</a>,
                        <a href="http://github.com/mpgerlek">Michael Gerlek</a>,
                        and
                        <a href="https://github.com/PDAL/PDAL/graphs/contributors">others</a>,
                Last updated
                    on Apr 04, 2016.
        </div>
    </div>
  </body>
</html>