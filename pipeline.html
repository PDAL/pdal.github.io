
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Pipeline &mdash; pdal.io</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/breathe.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootswatch-3.3.4/cerulean/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.4/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="copyright" title="Copyright" href="copyright.html" />
    <link rel="top" title="pdal.io" href="index.html" />
    <link rel="next" title="FAQ" href="faq.html" />
    <link rel="prev" title="Docker" href="tutorial/docker.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          PDAL</a>
        <span class="navbar-text navbar-version pull-left"><b>1.2.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="download.html">Download</a></li>
                <li><a href="https://github.com/PDAL/PDAL">GitHub</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Docs <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="download.html">Download</a><ul>
<li class="toctree-l2"><a class="reference internal" href="download.html#current-release-s">Current Release(s)</a></li>
<li class="toctree-l2"><a class="reference internal" href="download.html#past-releases">Past Releases</a></li>
<li class="toctree-l2"><a class="reference internal" href="download.html#binaries">Binaries</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="compilation/index.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="compilation/unix.html">Unix Compilation</a></li>
<li class="toctree-l2"><a class="reference internal" href="compilation/windows.html">Building Under Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="compilation/dependencies.html">Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="compilation/python.html">Python installation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="apps.html">Applications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="apps.html#delta-command">delta command</a></li>
<li class="toctree-l2"><a class="reference internal" href="apps.html#density-command">density command</a></li>
<li class="toctree-l2"><a class="reference internal" href="apps.html#diff-command">diff command</a></li>
<li class="toctree-l2"><a class="reference internal" href="apps.html#ground-command">ground command</a></li>
<li class="toctree-l2"><a class="reference internal" href="apps.html#info-command">info command</a></li>
<li class="toctree-l2"><a class="reference internal" href="apps.html#merge-command">merge command</a></li>
<li class="toctree-l2"><a class="reference internal" href="apps.html#pcl-command">pcl command</a></li>
<li class="toctree-l2"><a class="reference internal" href="apps.html#pipeline-command">pipeline command</a></li>
<li class="toctree-l2"><a class="reference internal" href="apps.html#random-command">random command</a></li>
<li class="toctree-l2"><a class="reference internal" href="apps.html#split-command">split command</a></li>
<li class="toctree-l2"><a class="reference internal" href="apps.html#tindex-command">tindex command</a></li>
<li class="toctree-l2"><a class="reference internal" href="apps.html#translate-command">translate command</a></li>
<li class="toctree-l2"><a class="reference internal" href="apps.html#view-command">view command</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="community.html">Community</a><ul>
<li class="toctree-l2"><a class="reference internal" href="community.html#mailing-list">Mailing List</a></li>
<li class="toctree-l2"><a class="reference internal" href="community.html#github">GitHub</a></li>
<li class="toctree-l2"><a class="reference internal" href="community.html#irc">IRC</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="stages/index.html">Readers, Writers, and Filters</a><ul>
<li class="toctree-l2"><a class="reference internal" href="stages/index.html#readers">Readers</a></li>
<li class="toctree-l2"><a class="reference internal" href="stages/index.html#writers">Writers</a></li>
<li class="toctree-l2"><a class="reference internal" href="stages/index.html#filters">Filters</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorial/index.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorial/index.html#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/index.html#using-pdal">Using PDAL</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/index.html#developing">Developing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorial/docker.html">Docker</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorial/docker.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/docker.html#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/docker.html#what-you-get">What you get</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Pipeline</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#composing-pipelines">Composing pipelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="#options">Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="#syntax-specification">Syntax Specification</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="development/index.html">Development</a><ul>
<li class="toctree-l2"><a class="reference internal" href="development/index.html#build-and-test-status">Build and Test Status</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api/index.html">API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api/cpp/index.html">C++ API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="metadata.html">Metadata</a><ul>
<li class="toctree-l2"><a class="reference internal" href="metadata.html#metadata-types">Metadata Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="metadata.html#json-representation">JSON representation</a></li>
<li class="toctree-l2"><a class="reference internal" href="metadata.html#pipeline-xml-representation"><code class="docutils literal"><span class="pre">Pipeline</span></code> XML representation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributors.html">Contributors</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contributors.html#engineering-contributors">Engineering Contributors</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributors.html#funding-contributors">Funding Contributors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="copyright.html">License</a><ul>
<li class="toctree-l2"><a class="reference internal" href="copyright.html#overall-pdal-license-bsd">Overall PDAL license (BSD)</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Here <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Pipeline</a><ul>
<li><a class="reference internal" href="#composing-pipelines">Composing pipelines</a></li>
<li><a class="reference internal" href="#usage">Usage</a><ul>
<li><a class="reference internal" href="#stage-types">Stage Types</a></li>
</ul>
</li>
<li><a class="reference internal" href="#options">Options</a></li>
<li><a class="reference internal" href="#syntax-specification">Syntax Specification</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="tutorial/docker.html" title="Previous Chapter: Docker"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Docker</span>
    </a>
  </li>
  <li>
    <a href="faq.html" title="Next Chapter: FAQ"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">FAQ &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="pipeline">
<span id="id1"></span><h1>Pipeline<a class="headerlink" href="#pipeline" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Howard Butler</td>
</tr>
<tr class="field-even field"><th class="field-name">Contact:</th><td class="field-body"><a class="reference external" href="mailto:howard&#37;&#52;&#48;hobu&#46;co">howard<span>&#64;</span>hobu<span>&#46;</span>co</a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Date:</th><td class="field-body">03/22/2016</td>
</tr>
</tbody>
</table>
<p>Pipelines are the operative construct in PDAL &#8211; you must construct pipelines
to perform data translation operations, filter data, or simply to provide data
to an endpoint. This document describes some features and background of PDAL
Pipelines and give some examples you can use to execute translation
operations.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="apps.html#pipeline-command"><span>pipeline command</span></a> is used to invoke JSON pipeline operations
via the command line.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">As of PDAL 1.2, <a class="reference external" href="http://www.json.org/">JSON</a> is now the preferred specification language
for PDAL pipelines. XML read support is still available at 1.2, but
JSON is preferred.</p>
</div>
<div class="section" id="composing-pipelines">
<h2>Composing pipelines<a class="headerlink" href="#composing-pipelines" title="Permalink to this headline">¶</a></h2>
<p>A <cite>Pipeline</cite> is composed as an array of <a class="reference internal" href="api/cpp/stage.html#_CPPv2N4pdal5StageE" title="pdal::Stage"><code class="xref cpp cpp-class docutils literal"><span class="pre">pdal::Stage</span></code></a> , with the
first stage at the beginning and the last at the end.  There are two primary
building blocks in PDAL, <a class="reference internal" href="api/cpp/stage.html#_CPPv2N4pdal5StageE" title="pdal::Stage"><code class="xref cpp cpp-class docutils literal"><span class="pre">pdal::Stage</span></code></a> and
<a class="reference internal" href="api/cpp/pointview.html#_CPPv2N4pdal9PointViewE" title="pdal::PointView"><code class="xref cpp cpp-class docutils literal"><span class="pre">pdal::PointView</span></code></a>. <a class="reference internal" href="api/cpp/reader.html#_CPPv2N4pdal6ReaderE" title="pdal::Reader"><code class="xref cpp cpp-class docutils literal"><span class="pre">pdal::Reader</span></code></a>,
<a class="reference internal" href="api/cpp/writer.html#_CPPv2N4pdal6WriterE" title="pdal::Writer"><code class="xref cpp cpp-class docutils literal"><span class="pre">pdal::Writer</span></code></a>, and <a class="reference internal" href="api/cpp/filter.html#_CPPv2N4pdal6FilterE" title="pdal::Filter"><code class="xref cpp cpp-class docutils literal"><span class="pre">pdal::Filter</span></code></a> are all subclasses of
<a class="reference internal" href="api/cpp/stage.html#_CPPv2N4pdal5StageE" title="pdal::Stage"><code class="xref cpp cpp-class docutils literal"><span class="pre">pdal::Stage</span></code></a>.</p>
<p><a class="reference internal" href="api/cpp/pointview.html#_CPPv2N4pdal9PointViewE" title="pdal::PointView"><code class="xref cpp cpp-class docutils literal"><span class="pre">pdal::PointView</span></code></a> is the substrate that flows between stages in a
pipeline and transfers the actual data as it moves through the pipeline. A
<a class="reference internal" href="api/cpp/pointview.html#_CPPv2N4pdal9PointViewE" title="pdal::PointView"><code class="xref cpp cpp-class docutils literal"><span class="pre">pdal::PointView</span></code></a> contains a <code class="xref cpp cpp-class docutils literal"><span class="pre">pdal::PointTablePtr</span></code>, which
itself contains a list of <a class="reference internal" href="api/cpp/dimension.html#_CPPv2N4pdal9DimensionE" title="pdal::Dimension"><code class="xref cpp cpp-class docutils literal"><span class="pre">pdal::Dimension</span></code></a> objects that define the
actual channels that are stored in the <a class="reference internal" href="api/cpp/pointview.html#_CPPv2N4pdal9PointViewE" title="pdal::PointView"><code class="xref cpp cpp-class docutils literal"><span class="pre">pdal::PointView</span></code></a>.</p>
<p>PDAL provides four types of stages &#8211; <a class="reference internal" href="api/cpp/reader.html#_CPPv2N4pdal6ReaderE" title="pdal::Reader"><code class="xref cpp cpp-class docutils literal"><span class="pre">pdal::Reader</span></code></a>,
<a class="reference internal" href="api/cpp/writer.html#_CPPv2N4pdal6WriterE" title="pdal::Writer"><code class="xref cpp cpp-class docutils literal"><span class="pre">pdal::Writer</span></code></a>, <a class="reference internal" href="api/cpp/filter.html#_CPPv2N4pdal6FilterE" title="pdal::Filter"><code class="xref cpp cpp-class docutils literal"><span class="pre">pdal::Filter</span></code></a>, and
<code class="xref cpp cpp-class docutils literal"><span class="pre">pdal::MultiFilter</span></code> &#8211; with the latter being hardly used (just
<a class="reference internal" href="stages/filters.merge.html#filters-merge"><span>filters.merge</span></a>) at this point. A Reader is a producer of data, a Writer
is a consumer of data, and a Filter is an actor on data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">As a C++ API consumer, you are generally not supposed to worry about the underlying
storage of the PointView, but there might be times when you simply just
&#8220;want the data.&#8221; In those situations, you can use the
<code class="xref cpp cpp-func docutils literal"><span class="pre">pdal::PointView::getBytes()</span></code> method to stream out the raw storage.</p>
</div>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>While pipeline objects are manipulable through C++ objects, the other, more
convenient way is through an JSON syntax. The JSON syntax mirrors the
arrangement of the Pipeline, with options and auxiliary metadata added on a
per-stage basis.</p>
<p>We have two use cases specifically in mind:</p>
<ul class="simple">
<li>a <a class="reference internal" href="apps.html#pipeline-command"><span>command-line</span></a> application that reads an JSON
file to allow a user to easily construct arbitrary writer pipelines, as
opposed to having to build applications custom to individual needs with
arbitrary options, filters, etc.</li>
<li>a user can provide JSON for a reader pipeline, construct it via a simple call
to the PipelineManager API, and then use the <code class="xref cpp cpp-func docutils literal"><span class="pre">pdal::Stage::read()</span></code>
function to perform the read and then do any processing of the points.  This
style of operation is very appropriate for using PDAL from within
environments like Python where the focus is on just getting the points, as
opposed to complex pipeline construction.</li>
</ul>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span>
  <span class="nt">&quot;pipeline&quot;</span><span class="p">:[</span>
    <span class="s2">&quot;/path/to/my/file/input.las&quot;</span><span class="p">,</span>
    <span class="s2">&quot;output.las&quot;</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><a class="reference external" href="https://github.com/PDAL/PDAL/blob/master/test/data/pipeline/">https://github.com/PDAL/PDAL/blob/master/test/data/pipeline/</a> contains
test suite pipeline files that provide an excellent example of the
currently possible operations.</p>
</div>
<div class="section" id="stage-types">
<h3>Stage Types<a class="headerlink" href="#stage-types" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="api/cpp/reader.html#_CPPv2N4pdal6ReaderE" title="pdal::Reader"><code class="xref cpp cpp-class docutils literal"><span class="pre">pdal::Reader</span></code></a>, <a class="reference internal" href="api/cpp/writer.html#_CPPv2N4pdal6WriterE" title="pdal::Writer"><code class="xref cpp cpp-class docutils literal"><span class="pre">pdal::Writer</span></code></a>, and
<a class="reference internal" href="api/cpp/filter.html#_CPPv2N4pdal6FilterE" title="pdal::Filter"><code class="xref cpp cpp-class docutils literal"><span class="pre">pdal::Filter</span></code></a> are the C++ classes that define the stage types in
PDAL. Readers follow the pattern of <a class="reference internal" href="stages/readers.las.html#readers-las"><span>readers.las</span></a> or
<a class="reference internal" href="stages/readers.oci.html#readers-oci"><span>readers.oci</span></a>, Writers follow the pattern of <a class="reference internal" href="stages/writers.las.html#writers-las"><span>writers.las</span></a> or
<a class="reference internal" href="stages/readers.oci.html#readers-oci"><span>readers.oci</span></a>, with Filters using <a class="reference internal" href="stages/filters.reprojection.html#filters-reprojection"><span>filters.reprojection</span></a> or
<a class="reference internal" href="stages/filters.crop.html#filters-crop"><span>filters.crop</span></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><a class="reference internal" href="stages/index.html#stage-index"><span>Readers, Writers, and Filters</span></a> contains a full listing of possible stages and
descriptions of their options.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Issuing the command <code class="docutils literal"><span class="pre">pdal</span> <span class="pre">info</span> <span class="pre">--options</span></code> will list all available
stages and their options. See <a class="reference internal" href="apps.html#info-command"><span>info command</span></a> for more.</p>
</div>
</div>
</div>
<div class="section" id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h2>
<p>Options are the mechanism that PDAL uses to inform <a class="reference internal" href="api/cpp/stage.html#_CPPv2N4pdal5StageE" title="pdal::Stage"><code class="xref cpp cpp-class docutils literal"><span class="pre">pdal::Stage</span></code></a>
entities how to process data. The following example sorts the data using a
<a class="reference external" href="http://en.wikipedia.org/wiki/Z-order_curve">Morton ordering</a> using <a class="reference internal" href="stages/filters.mortonorder.html#filters-mortonorder"><span>filters.mortonorder</span></a> and writes out a <a class="reference external" href="http://www.laszip.org">LASzip</a>
file as the result. We use options to define the <code class="docutils literal"><span class="pre">compression</span></code> function
for the <a class="reference internal" href="stages/writers.las.html#writers-las"><span>writers.las</span></a> <a class="reference internal" href="api/cpp/stage.html#_CPPv2N4pdal5StageE" title="pdal::Stage"><code class="xref cpp cpp-class docutils literal"><span class="pre">pdal::Stage</span></code></a>.</p>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span>
  <span class="nt">&quot;pipeline&quot;</span><span class="p">:[</span>
    <span class="s2">&quot;uncompressed.las&quot;</span><span class="p">,</span>
    <span class="p">{</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;filters.mortonorder&quot;</span>
    <span class="p">}</span>
    <span class="p">{</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;writers.las&quot;</span><span class="p">,</span>
      <span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="s2">&quot;compressed.laz&quot;</span><span class="p">,</span>
      <span class="nt">&quot;compression&quot;</span><span class="p">:</span><span class="s2">&quot;true&quot;</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="syntax-specification">
<h2>Syntax Specification<a class="headerlink" href="#syntax-specification" title="Permalink to this headline">¶</a></h2>
<p>See <a class="reference internal" href="json_pipeline_specification.html#json-pipeline-specification"><span>1&nbsp;&nbsp;&nbsp;Draft PDAL JSON Pipeline Specification</span></a> for more detail</p>
</div>
</div>


    </div>
      
  </div>
</div>
    <div class="footer">
        <div class="container">
                    &copy;  2016
                        <a href="http://github.com/hobu">Howard Butler</a>,
                        <a href="http://github.com/mpgerlek">Michael Gerlek</a>,
                        and
                        <a href="https://github.com/PDAL/PDAL/graphs/contributors">others</a>,
                Last updated
                    on Apr 03, 2016.
        </div>
    </div>
  </body>
</html>